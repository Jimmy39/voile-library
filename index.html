<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>voile-library: voile-library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">voile-library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">voile-library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a>A collection of Object-oriented-likely MCU libraries based on C language</p>
<h1><a class="anchor" id="autotoc_md1"></a>
About the voile library</h1>
<p>The Voile library is a collection of object-oriented-likely MCU libraries in C that uses <code>struct</code> to implement <code>class</code> .</p>
<p>To save memory, voile library uses const struct. Two struct are used to implement a class, public struct <code>voile_const_xxxx_t</code> and internal struct <code>voile_internal_const_xxxx(_yyyy)_t</code> .</p>
<p><b>public struct</b> includes public members of the class, usually interface functions. For example: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">const</span> <span class="keyword">struct</span>{</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_enumeration" href="voile__common_8h.html#a129388e550a0f322b281ae63239d388e">voile_status_t</a> (*Init)(<span class="keywordtype">void</span> *, uint32_t);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// And other</span></div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line">} voile_const_uartOperate_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">const</span> <span class="keyword">struct</span>{</div>
<div class="line"> </div>
<div class="line">    uint8_t (*Receive)(<span class="keywordtype">void</span> *);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// And others</span></div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line">} voile_const_uartGet_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">const</span> <span class="keyword">struct</span>{</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Operate the uart</span></div>
<div class="line">    voile_const_uartOperate_t *Operate;</div>
<div class="line"> </div>
<div class="line">    voile_const_uartGet_t *Get;</div>
<div class="line"> </div>
<div class="line">} voile_const_uart_t;</div>
<div class="ttc" id="avoile__common_8h_html_a129388e550a0f322b281ae63239d388e"><div class="ttname"><a href="voile__common_8h.html#a129388e550a0f322b281ae63239d388e">voile_status_t</a></div><div class="ttdeci">voile_status_t</div><div class="ttdoc">Return value meaning.</div><div class="ttdef"><b>Definition</b> voile_common.h:20</div></div>
</div><!-- fragment --><p><b>internal struct</b> includes all members of class, as well as some constants used to define hardware or constant pointers to cache areas, except for the public part. For example: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">const</span> <span class="keyword">struct</span>{</div>
<div class="line">    <span class="comment">// Operate the uart</span></div>
<div class="line">    voile_const_uartOperate_t *Operate;</div>
<div class="line"> </div>
<div class="line">    voile_const_uartGet_t *Get;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// UART0 or UART1</span></div>
<div class="line">    uint8_t uartId;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// And others</span></div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line">    </div>
<div class="line">} voile_const_internal_uart_rp2040_t;</div>
</div><!-- fragment --><p>We define devices use internal struct at <em>devicelist.c</em>. For example: </p><div class="fragment"><div class="line"><span class="preprocessor">#define __DEVICELIST_C__</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;voile_uart_rp2040.h&quot;</span></div>
<div class="line">voile_const_internal_uart_rp2040_t myuart = {</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// A micro to init all function pointer</span></div>
<div class="line">    AUTOFUNCINIT,</div>
<div class="line"> </div>
<div class="line">    .uartId = UART0,</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// And other setting</span></div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Other voile_const_internal_uart_rp2040_t defination</span></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;voile_uart_rp2040_end.h&quot;</span></div>
</div><!-- fragment --><p><b>Notice:</b> The specific internal struct definition format can be found in the readme of libraries.</p>
<p>And declare it as public struct at <em>devicelist.h</em>: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;voile_uart.h&quot;</span></div>
<div class="line"><span class="keyword">extern</span> voile_const_uart_t myuart;</div>
</div><!-- fragment --><p>Then we can include <em>devicelist.h</em> and operate device like this:</p>
<div class="fragment"><div class="line">myuart.Operate-&gt;Transmit(&amp;myuart, ...);</div>
</div><!-- fragment --><p>Different internal struct may have the same public interface, which can be treated as the same class, and the public struct can be shared. At this time, we take out public struct and put it in a separate header file. To indicate that this library does not contain specific implementations, it is named with interface.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Library list</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Public struct(Library name)   </th><th class="markdownTableHeadNone">Internal struct(Library name)   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">(Alpha)<code>voile_const_ioPin_t</code>(<a href="https://github.com/Jimmy39/voile-interface-iopin">voile-interface-iopin</a>)   </td><td class="markdownTableBodyNone">(Alpha)<code>voile_const_internal_ioPin_gpioRp2040_t</code>(<a href="https://github.com/Jimmy39/voile-iopin-rp2040">voile-iopin-rp2040</a>)   </td><td class="markdownTableBodyNone">For any single io in rp2040    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">(Alpha)<code>voile_const_internal_ioPin_74595_withoutQH</code>(<a href="https://github.com/Jimmy39/voile-iopin-74595-withoutqh">voile-iopin-74595-withoutqh</a>)   </td><td class="markdownTableBodyNone">Operate 74595 as same as gpio in voile library    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">(Alpha)<code>voile_const_uart_t</code>(<a href="https://github.com/Jimmy39/voile-interface-uart">voile-interface-uart</a>)   </td><td class="markdownTableBodyNone">(Alpha)<code>voile_const_internal_uart_rp2040_t</code>(<a href="https://github.com/Jimmy39/voile-uart-rp2040">voile-uart-rp2040</a>)   </td><td class="markdownTableBodyNone">For hardware uart in rp2040    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">(Alpha)<code>voile_const_74595_t</code>(<a href="https://github.com/Jimmy39/voile-74595">voile-74595</a>)   </td><td class="markdownTableBodyNone">(Alpha)<code>voile_const_internal_74595_t</code>(<a href="https://github.com/Jimmy39/voile-74595">voile-74595</a>)   </td><td class="markdownTableBodyNone">For 74595 control   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md3"></a>
Todo list</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Library name   </th><th class="markdownTableHeadNone">Public struct/Internal struct   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">voile-potentiometer-3wire   </td><td class="markdownTableBodyNone"><code>voile_const_potentiometer_t</code>(<a href="https://github.com/Jimmy39/voile-interface-potentiometer">voile-interface-potentiometer</a>)/<code>voile_const_internal_potentiometer_3wire_t</code>(<a href="https://github.com/Jimmy39/voile-potentiometer-3wire">voile-potentiometer-3wire</a>)   </td><td class="markdownTableBodyNone">Control potentiometer by U/_D, INC, CS in voile library    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">voile-gpio-ch552   </td><td class="markdownTableBodyNone"><code>voile_ioPin_t</code>(<a href="https://github.com/Jimmy39/voile-interface-iopin">voile-interface-iopin</a>) / <code>voile_internal_ioPin_gpioCh552_t</code>   </td><td class="markdownTableBodyNone">For any single io in ch552    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">voile-gpio-esp32   </td><td class="markdownTableBodyNone"><code>voile_ioPin_t</code>(<a href="https://github.com/Jimmy39/voile-interface-iopin">voile-interface-iopin</a>) / <code>voile_internal_ioPin_gpioEsp32_t</code>   </td><td class="markdownTableBodyNone">For any single io in esp32   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md4"></a>
Other</h1>
<p>The name 'voile library' is inspired by the voile magic library in <a href="https://en.touhouwiki.net/wiki/Embodiment_of_Scarlet_Devil">Touhou Koumakyou (Scarlet Devil Land) ~ the Embodiment of Scarlet Devil</a> </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"/>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
